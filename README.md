# Simple 2D Game Engine
[![Build](https://github.com/grahamboree/engine_demo/actions/workflows/build.yaml/badge.svg)](https://github.com/grahamboree/engine_demo/actions/workflows/build.yaml)

A simple game engine using SDL2, Lua, and DearImGUI.  Created as a demo project for the Boston Game Dev "Under the Hood: A Whirlwind Tour of Game Engine Possibilities" event.

## Design 

The engine is split in to two subsections: the C++ engine binary, and the Lua scripts.  The intention is that the engine binary provides features and high-level API's to the Lua layer, which in turn implements gameplay and other logic.

This is _not_ an editor-based engine like Unity, Unreal, or Godot.  It's much closer to something like [Love2D](https://love2d.org/), where editor tooling is built as a set of in-game windows and menus, and/or as a set of separate, external programs.

This approach has a number of benefits.  First, it's easier to implement than an editor-based workflow.  Second, it allows for on-device (console, phone, etc) and on-the-fly manipulation of the game world.  Third, it facilitates features for fast iteration like hot-reloading of code and art assets.

### Folder structure
* `proj/` Generated by Premake.  Contains the Visual Studio or XCode project files for the engine binary.
* `bin/` The output directory for the built engine binaries.
* `src/` The C++ source code for the engine binary
* `lib/` C and C++ source code for 3rd party libraries
* `data/` Contains all the game data: sprites, shaders, lua scripts, etc.

### Code Architecture

This is by no means the _best_ way to build an engine, but it illustrates the basic idea.  The main game loop happens in `main.cpp`.  Different subsystems are split into different files.  The lua integration layer and provided functions are defined in `lua_api.cpp`.

## How to Build

### Requirements (all platforms)
1.  Premake5. Grab the latest build from [here](https://github.com/premake/premake-core/releases)
2.  Clang, XCode, Rider, or Visual Studio to build

### Windows
1.  Run `premake5 vs2022` in the root of the repo
2.  Open `proj/engine.sln`
3.  Set `engine` as the startup project if it's not already.  Build and run.

### Mac
1.  Run `premake5 xcode4` in the root of the repo
2.  Open `proj/engine.xcworkspace`
3.  Ensure the target is set to `engine` and the destination to `My Mac` and hit the play button.

### Linux (untested)
1.  Run `premake5 gmake2` in the root of the repo
2.  `cd proj/gmake2/`
3.  `make`
4.  Run the output binary in `bin/`
